{% macro list(menu, modifier) %}
  <ul class="site-nav__list" data-nav-list>
    {% for item in menu.items %}
      <li class="site-nav__item">
        <a href="{{item.href}}" class="site-nav__link{% if modifier == 'top' and loop.index >= 6 %} site-nav__link--accent{% endif %}" data-nav-link>{{item.text}}</a>
        {% if item.items or item.menus %}
          {{ _self.nav(item, 'sub') }}
        {% endif %}
      </li>
    {% endfor %}
  </ul>
{% endmacro %}

{% macro nav(menu, modifier) %}
  <div class="site-nav{% if modifier %} site-nav--{{modifier}}{% endif %}" data-nav>
    <div class="site-nav__content">
      {% if menu.text %}
        <a href="#" class="site-nav__link site-nav__link--back" data-nav-back>{{menu.text}}</a>
      {% endif %}
      {{ _self.list(menu, modifier) }}
    </div>
  </div>
{% endmacro %}

{% import _self as navs %}

{{ navs.nav(site_nav, 'top') }}
